<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Portaria - Condom√≠nio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">


<style>
body {
  font-family: Arial;
  background: #f2f2f2;
}

.card {
  background: white;
  padding: 15px;
  border-radius: 12px;
  text-align: center;
  height: 100%;
}

.botoes {
  display: flex;
  margin-top: 10px;
}

.botoes button {
  width: 50%;
  border-radius: 0;
  font-size: 22px;
}

.botoes button:first-child {
  border-radius: 8px 0 0 8px;
}

.botoes button:last-child {
  border-radius: 0 8px 8px 0;
}

.tel {
  background-color: #0d6efd;
  color: #FFFFFF;
}

.zap {
  background-color: #25D366;
  color: #FFFFFF;
}

.desativado {
  background-color: #f0f0f0 !important;
  pointer-events: none;
  opacity: 0.7;
  color: #edebeb;
}
</style>


</head>
<body>

<h2 class="text-center my-3">Selecione a casa</h2>

<div class="container">
    <div class="row m-1" id="casas"></div>
</div>


<script>
fetch("https://script.google.com/macros/s/AKfycbxVS3WNlWH0PcwtQZCRsTFv4RkM94OarEZ138YmDfbUbpK4n6RKyWIm_MTDnZ1KN4No0Q/exec")
  .then(r => r.json())
  .then(data => {

    // ordena casas numericamente
    data.sort((a, b) => Number(a.casa) - Number(b.casa));

    const row = document.getElementById("casas");

    data.forEach(m => {

      const col = document.createElement("div");
      col.className = "col-6 mb-3";

      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `<h6>Casa ${m.casa}</h6>`;

      const botoes = document.createElement("div");
      botoes.className = "botoes";

      // TELEFONE
      const btTel = document.createElement("button");
      btTel.className = "btn tel";
      btTel.innerHTML = `<i class="bi bi-telephone-fill"></i>`;

      if (m.telefone) {
        btTel.onclick = () => location.href = "tel:+" + m.telefone;
      } else {
        btTel.classList.add("desativado");
      }

      // WHATSAPP
      const btZap = document.createElement("button");
      btZap.className = "btn zap";
      btZap.innerHTML = `<i class="bi bi-whatsapp"></i>`;

      if (m.whatsapp) {
        btZap.onclick = () =>
          location.href = `https://wa.me/${m.whatsapp}?text=Entregador%20na%20portaria`;
      } else {
        btZap.classList.add("desativado");
      }

      botoes.appendChild(btTel);
      botoes.appendChild(btZap);

      card.appendChild(botoes);
      col.appendChild(card);
      row.appendChild(col);
    });
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>







