<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Portaria - Condomínio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">


<style>
body {
  font-family: Arial;
  background: #b0bbbf;
  margin: 0;
}

.container {
  max-width: 1200px;   /* centraliza conteúdo */
  margin: 0 auto;
  padding-left: 6px;
  padding-right: 6px;
}

.row {
  --bs-gutter-x: 4px;   /* espaçamento horizontal entre cards */
  --bs-gutter-y: 4px;   /* espaçamento vertical entre cards */
  /*justify-content: center; centraliza os cards horizontalmente */
}

.card {
  background: white;
  padding: 8px;
  border-radius: 10px;
  text-align: center;
  height: 100%;
}

.botoes {
  display: flex;
  margin-top: 6px;   /* distância entre card e botões */
}

.botoes button {
  width: 50%;        /* cada botão ocupa metade do card */
  border-radius: 0;
  font-size: 24px;
  padding: 10px 0;
}

.botoes button:first-child {
  border-radius: 6px 0 0 6px;
}

.botoes button:last-child {
  border-radius: 0 6px 6px 0;
}

.tel {
  background-color: #0d6efd;
  color: #ffffff;
}

.zap {
  background-color: #25D366;
  color: #ffffff;
}

.desativado {
  background-color: #e0e0e0 !important;
  pointer-events: none;
  opacity: 0.6;
  color: #bdbdbd;
}
</style>


</head>
<body>

<h2 class="text-center my-3">Selecione a casa</h2>

<div class="container m-0">
    <div class="row m-1" id="casas"></div>
</div>


<script>
fetch("https://script.google.com/macros/s/AKfycbyKZ6ftiv3XaZljW8_ThleFpzM5Dd-BXTRV6EuW3oURWI9YnLrh7-vQATMD0eOSoFgq6w/exec")
  .then(r => r.json())
  .then(data => {

    // ordena casas numericamente
    data.sort((a, b) => Number(a.casa) - Number(b.casa));

    const row = document.getElementById("casas");

    data.forEach(m => {

      const col = document.createElement("div");
      col.className = "col-6 col-md-4 col-lg-3 mb-2";

      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `<h4>${m.casa}</h4>`;

      const botoes = document.createElement("div");
      botoes.className = "botoes";

      // TELEFONE
      const btTel = document.createElement("button");
      btTel.className = "btn tel";
      btTel.innerHTML = `<i class="bi bi-telephone-fill"></i>`;

      if (m.telefone) {
        btTel.onclick = () => location.href = "tel:+" + m.telefone;
      } else {
        btTel.classList.add("desativado");
      }

      // WHATSAPP
      const btZap = document.createElement("button");
      btZap.className = "btn zap";
      btZap.innerHTML = `<i class="bi bi-whatsapp"></i>`;

      if (m.whatsapp) {
        btZap.onclick = () =>
          location.href = `https://wa.me/55${m.whatsapp}?text=Entregador%20na%20portaria`;
      } else {
        btZap.classList.add("desativado");
      }

      botoes.appendChild(btTel);
      botoes.appendChild(btZap);

      card.appendChild(botoes);
      col.appendChild(card);
      row.appendChild(col);
    });
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>





